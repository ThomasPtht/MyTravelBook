generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

enum CityStatus {
  visited
  wishlist
}

model User {
  id       Int     @id @default(autoincrement())
  username String?
  email    String  @unique
  password String
  cities   City[] // Relation to City
}

model City {
  id            Int         @id @default(autoincrement())
  cityName      String      @unique
  country       String
  status        CityStatus
  visitDate     String
  coverImage    String
  neighborhood  String[]
  description   String
  overallRating Int
  budget        Int // 1 Ã  5
  food          Int
  safety        Int
  culture       Int
  atmosphere    Int
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt
  images        CityImage[]
  userId        Int
  user          User        @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model CityImage {
  id        Int      @id @default(autoincrement())
  cityId    Int
  imagePath String
  caption   String?
  city      City     @relation(fields: [cityId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())
}
